<app-navbar></app-navbar>

<div class="container-fluid">
  <div *ngIf="!this.isLoading && this.isFound">
    <app-user-post
      *ngIf="!this.isComment"
      [id]="this.post.id"
      [poster]="this.post.poster"
      [avatar]="this.post.avatar"
      [badge]="this.post.badge"
      [postType]="this.post.postType"
      [postDate]="this.post.postDate"
      [header]="this.post.header"
      [body]="this.post.body"
      [media]="this.post.media"
      [likes]="this.post.likes"
      [comments]="this.post.comments"></app-user-post>

    <app-user-post
      *ngIf="this.isComment"
      [id]="this.comment.id"
      [poster]="this.comment.username"
      [avatar]="this.comment.avatar"
      [badge]="this.comment.badge"
      [postType]="'comment'"
      [postDate]="this.comment.postDate"
      [header]=""
      [body]="this.comment.body"
      [media]=""
      [likes]="this.comment.likes"
      [comments]="0"></app-user-post>

    <br />

    <div class="text-center">
      <div *ngIf="!(this.error !== '')">
        <h3>
          Are you sure you want to delete this
          {{ this.isComment ? 'comment' : 'post' }}?
        </h3>
        <a
          class="btn btn-secondary ms-2"
          href="/post/{{ this.post.id }}"
          role="button"
          >Go back</a
        >
        <a class="btn btn-danger ms-2" (click)="delete()" role="button"
          >Delete</a
        >
      </div>
      <p *ngIf="this.error !== ''">{{ this.error }}</p>
    </div>
  </div>

  <div *ngIf="!this.isFound && !this.isLoading">
    <app-error-page></app-error-page>
  </div>

  <app-loading
    *ngIf="this.isLoading"
    [isLoading]="this.isLoading"></app-loading>
</div>

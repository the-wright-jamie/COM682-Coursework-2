<app-navbar></app-navbar>

<div class="container-fluid">
  <h4>Create Post</h4>
  <br />
  <form>
    <h5>Title</h5>
    <input
      #title
      (keyup)="this.titleChanged(title.value)"
      type="text"
      id="title"
      class="form-control invertible" />
    <p class="light">({{ this.header.length }}/128)</p>
    <br />
    <h5>Body</h5>
    <textarea
      #body_input
      (keyup)="this.bodyChanged(body_input.value)"
      class="form-control invertible"
      id="body"
      rows="3"></textarea>
    <p class="light">({{ this.body.length }}/2000)</p>
    <br />
    <h5>Media</h5>
    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <button
          class="nav-link active"
          id="pills-home-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-home"
          type="button"
          role="tab"
          aria-controls="pills-home"
          aria-selected="true">
          Image
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="pills-profile-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-profile"
          type="button"
          role="tab"
          aria-controls="pills-profile"
          aria-selected="false">
          Video
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button
          class="nav-link"
          id="pills-contact-tab"
          data-bs-toggle="pill"
          data-bs-target="#pills-contact"
          type="button"
          role="tab"
          aria-controls="pills-contact"
          aria-selected="false">
          GIF
        </button>
      </li>
    </ul>
    <div class="tab-content" id="pills-tabContent">
      <div
        class="tab-pane fade show active"
        id="pills-home"
        role="tabpanel"
        aria-labelledby="pills-home-tab"
        tabindex="0">
        <input type="file" accept=".png, .jpg, .jpeg" />
      </div>
      <div
        class="tab-pane fade"
        id="pills-profile"
        role="tabpanel"
        aria-labelledby="pills-profile-tab"
        tabindex="0">
        <input type="file" accept=".mp4" />
      </div>
      <div
        class="tab-pane fade"
        id="pills-contact"
        role="tabpanel"
        aria-labelledby="pills-contact-tab"
        tabindex="0"></div>
    </div>

    <br />
    <br />
    <p class="light" *ngIf="!this.readyToPost">
      You must include a title and a body in order to be able to post
    </p>
    <p class="light" *ngIf="this.dataOverload">
      Your title or body has too much information
    </p>
    <div
      *ngIf="this.isPosting"
      class="spinner-border spinner-border-sm"
      role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <button
      *ngIf="this.readyToPost && !this.dataOverload && !this.isPosting"
      type="button"
      class="btn btn-primary"
      (click)="this.post()">
      Post!
    </button>
  </form>
  <br />

  <h5>How your post will look:</h5>
  <app-user-post
    [id]="0"
    [poster]="this.username"
    [avatar]="this.avatar"
    [postType]="this.type"
    [postDate]="this.date"
    [header]="this.header"
    [body]="this.body"
    [media]="this.media"
    [likes]="this.likes"
    [comments]="this.comments"></app-user-post>
</div>

<script
  type="text/javascript"
  src="../../../../node_modules/ng-giphy/dist/ng-giphy.min.js"></script>
